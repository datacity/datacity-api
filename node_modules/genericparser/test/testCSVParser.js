var testCsv = require("../index.js");
var fs = require("fs");

describe("Csv parser",function(){
    it ("Should launch an error because of a readstream into the from function",function(){
        testCsv("csv")
        .from(fs.createReadStream(__dirname + "/files/input/test.csv"))
        .to(__dirname + "/files/output/test1.json");
    });
     it ("Should Work with this big open data file",function(){
        testCsv("csv")
        .from(__dirname + "/files/input/opendatatest.csv")
        .to(__dirname + "/files/output/opendatatest.json");
    });
    it ("Should Work with this big open data file (8M octets)",function(){
        testCsv("csv")
        .from(__dirname + "/files/input/VilleMTP_MTP_Elections_2012.csv")
        .to(__dirname + "/files/output/VilleMTP_MTP_Elections_2012.json");
    });
    
});




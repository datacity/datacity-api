<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>DataCity documentation Index</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	
	<link type="text/css" rel="stylesheet" href="styles/site.united.css">
	
</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top navbar-inverse">
		<div class="navbar-inner">
			<a class="brand" href="index.html">DataCity documentation</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="GenericParser.html">GenericParser</a>
						</li>
						
						<li>
							<a href="parserCSV.html">parserCSV</a>
						</li>
						
						<li>
							<a href="parserJSON.html">parserJSON</a>
						</li>
						
						<li>
							<a href="parserXML.html">parserXML</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="tutorials.list.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="tutorial-documentation_test.html">documentation_test</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="global.html#getFirstArray">getFirstArray</a>
						</li>
						
						<li>
							<a href="global.html#guessDelimiters">guessDelimiters</a>
						</li>
						
						<li>
							<a href="global.html#serializeJSON">serializeJSON</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
		<div class="span8">
			
				<div id="main">
					


	
	<span class="page-title">Index</span>
	
	












	
	





    <section>
        <article><h1>Generic Parser</h1><h2>Installation</h2><pre><code>npm install genericParser
</code></pre><h2>Utilisation</h2><p>Le module genericParser permet de transformer différents types d'entrée en format json.</p>
<p>Les différents types d'entrées sont :</p>
<ul>
<li>un flux</li>
<li>un chemin</li>
<li>une string</li>
</ul>
<p>Dans sa version béta le module genericParser permet de parser des entrées de type: </p>
<ul>
<li>CSV</li>
<li>JSON</li>
<li>XML</li>
<li>XLS</li>
</ul>
<h2>Fonctionement</h2><p>Dans votre projet node.js il vous suffit de charger le module de la façon suivante: </p>
<pre><code class="lang-javascript">var genericParser = require('genericparser');
</code></pre>
<p>Le constructeur de GenericParser prend en paramètre le type de l'input. Cela aura pour effet d'instancier le parseur correspondant. Le module genericParser implémente la méthode parse. La sortie est pour le moment en format json.
Voici comment faire l'instanciation du module : </p>
<pre><code class="lang-javascript">var genericParser = new GenericParser(&quot;csv&quot;); //TYPE DE PARSEUR
genericParser.parse(&quot;path.csv&quot;, false, function(result, index) {});
</code></pre>
<ul>
<li>Premier paramètre: path vers le fichier correspondant</li>
<li>Deuxième paramètre: true pour avoir le résultat ligne par ligne et false pour avoir le resultat en un bloc</li>
<li>Troisième paramètre: une fonction qui contient le resultat et l'index correspondant à une ligne dans le cas où le paramètre précédent est à false</li>
</ul>
<h2>Evènements</h2><p>Il est également possible de récupérer le contenu par des évènement. Dans ce cas, il vous suffit simplement d'écouter l'évènement :</p>
<ul>
<li>&quot;record_parsed&quot; : Appellé a chaques lignes.</li>
<li>&quot;end_parsed&quot; : Appellé à la fin du parsing.</li>
</ul>
<p>exemple : </p>
<pre><code class="lang-javascript">var genericParser = new GenericParser(&quot;csv&quot;);

genericParser.on(&quot;record_parsed&quot;, function(resultRow,rawRow,rowIndex) {});
genericParser.on(&quot;end_parsed&quot;, function() {});
genericParser.parse(&quot;./testInput.csv&quot;);
</code></pre>
<p>Notez que si vous utilisez ces évenements vous aurez un résultat qui ressemblera à ceci :</p>
<pre><code class="lang-json">{&quot;champ1&quot;: &quot;item1&quot;, &quot;champ2&quot;: 10} 
{&quot;champ1&quot;: &quot;item2&quot;, &quot;champ2&quot;: 4}
</code></pre>
<h5>Gestion d'erreur</h5><p>Dans le cas où une erreur survient dans le parseur, un évènement &quot;error&quot;  est envoyé. Pour le récuperer, il suffit d'écouter l'évènement comme ceci :</p>
<pre><code class="lang-javascript">genericParser.on(&quot;error&quot;, function(errType, errMessage) {})
</code></pre>
<h2>Sortie</h2><pre><code class="lang-json">{
    &quot;results&quot;:[
        {
            &quot;itemName&quot;:&quot;item1&quot;,
            &quot;number&quot;:10
        },
        {
            &quot;itemName&quot;:&quot;item2&quot;,
            &quot;number&quot;:4
        }
    ]
}
</code></pre>
<h2>Tests</h2><p>pour le lancement des tests unitaires, nous utilisons le module <a href="https://github.com/visionmedia/mocha">mocha</a>.</p>
<p>En savoir <a href="./tutorials/documentation_test.html">plus</a>.</p>
<h2>Informations complémentaires</h2><p>Pour une description détaillée du module et des fonctions, nous vous invitons a aller voir la documentation du module. Pour se faire rendez vous sur <a href="http://documentation.api.datacity.fr">notre site</a>.</p>
<p>Enfin, si vous désirez vous-même générer la documentation, vous devrez installer <a href="https://github.com/jsdoc3/jsdoc">jsdoc</a> ainsi que <a href="https://github.com/terryweiss/docstrap">docstrap</a> et faire la manipulation suivante dans le répertoire courant de genericParser</p>
<pre><code>sudo jsdoc ./lib/* README.md -t /usr/lib/node_modules/ink-docstrap/template/ -c /usr/lib/node_modules/ink-docstrap/template/jsdoc.conf.json -d ./documentation
</code></pre></article>
    </section>







				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="copyright">
		Datacity Copyright © 2013-2014 The contributors to the DataCity Doc project.
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated 
		on Thu Mar 13 2014 21:59:11 GMT+0300 (AST) 
		</span>
				</footer>
			</div>

			
			<div class="span3">
				<div id="toc"></div>
			</div>
			
			<br clear="both">
		</div>

	</div>
	<script src="scripts/sunlight.js"></script>
	<script src="scripts/sunlight.javascript.js"></script>
	<script src="scripts/sunlight-plugin.doclinks.js"></script>
	<script src="scripts/sunlight-plugin.linenumbers.js"></script>
	<script src="scripts/sunlight-plugin.menu.js"></script>
	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/jquery.scrollTo.js"></script>
	<script src="scripts/jquery.localScroll.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>


	<script>  Sunlight.highlightAll({lineNumbers:true,  showMenu: true, enableDoclinks :true}); </script>

	<script>
		$( function () {
			$( "#toc" ).toc( {
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : 60
			} );
			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );

		} );
	</script>

	

</body>
</html>
# Generic Parser

## Installation

    npm install genericParser
    
## Utilisation

Le module genericParser permet de parser différents types d'outputs en diférents type d'output.

Les différents types d'input et d'output sont :

* un stream 
* un path
* une string

Dans sa version béta le module genericParser permet de parser des input de type : 

* CSV
* JSON
* XML
* XLS

## Fonctionement

Le constructeur de GenericParser prend en paramètre le type de l'input. Cela aura pour effet d'instancier le parseur correspondant. Le module genericParser implémente les méthodes from() et to(). La sortie de l'output est par contre imposée et sera en format json.

```javascript
var genericParser = new GenericParser("csv");
genericParser
    .from(fs.createReadStream("./testInput.csv"), optionsInput)
    .to(fs.createWriteStream("./testOutput.json"), optionsOutput)
```

Nb : Il n'est pas nécéssaire de renseigner le fileType dans le cas où on envoi un path en paramètre. Exemple : 

```javascript
var genericParser = new GenericParser();
genericParser
    .from("./testInput.csv")
    .to("./testOutput.json")
    .convert();
```

## Gestion d'erreur


Dans le cas où une erreur survient dans le parseur, un évènement "error"  est envoyé. Pour le récuperer, il suffit d'écouter l'évènement comme ceci :

```javascript
genericParser.on("error", function(errType, errMessage) {})
```